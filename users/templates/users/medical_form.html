
{% extends 'users/base.html' %}

{% block users_title %}Diving Medical Form - CoralOffice{% endblock %}

{% block users_content %}
<div style="max-width: 800px; margin: 0 auto;">
    <h2>Diving Medical Declaration Form</h2>
    
    <div style="background-color: #e3f2fd; border: 1px solid #2196f3; padding: 20px; border-radius: 5px; margin-bottom: 30px;">
        <h4 style="color: #1976d2; margin-top: 0;">Medical Questionnaire for Recreational Scuba Diving</h4>
        <p>This form is required before participating in any diving activities. Please answer all questions honestly and completely. If you answer "YES" to any question, you may need medical clearance from a physician before diving.</p>
    </div>

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}

    <form method="post" style="background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        {% csrf_token %}
        
        <h3 style="color: #333; border-bottom: 2px solid #2196f3; padding-bottom: 10px;">Personal Information</h3>
        
        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div class="form-group">
                <label for="{{ form.first_name.id_for_label }}">First Name *</label>
                {{ form.first_name }}
            </div>
            <div class="form-group">
                <label for="{{ form.last_name.id_for_label }}">Last Name *</label>
                {{ form.last_name }}
            </div>
        </div>
        
        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div class="form-group">
                <label for="{{ form.email.id_for_label }}">Email *</label>
                {{ form.email }}
            </div>
            <div class="form-group">
                <label for="{{ form.phone_number.id_for_label }}">Phone Number *</label>
                {{ form.phone_number }}
            </div>
        </div>
        
        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div class="form-group">
                <label for="{{ form.country.id_for_label }}">Country</label>
                {{ form.country }}
            </div>
            <div class="form-group">
                <label for="{{ form.language.id_for_label }}">Preferred Language</label>
                {{ form.language }}
            </div>
            <div class="form-group">
                <label for="{{ form.birthday.id_for_label }}">Date of Birth</label>
                {{ form.birthday }}
            </div>
        </div>
        
        <h3 style="color: #333; border-bottom: 2px solid #2196f3; padding-bottom: 10px; margin-top: 30px;">Physical Measurements (for equipment fitting)</h3>
        
        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div class="form-group">
                <label for="{{ form.weight.id_for_label }}">Weight (kg)</label>
                {{ form.weight }}
            </div>
            <div class="form-group">
                <label for="{{ form.height.id_for_label }}">Height (cm)</label>
                {{ form.height }}
            </div>
            <div class="form-group">
                <label for="{{ form.foot_size.id_for_label }}">Foot Size (EU)</label>
                {{ form.foot_size }}
            </div>
        </div>
        
        <h3 style="color: #333; border-bottom: 2px solid #2196f3; padding-bottom: 10px; margin-top: 30px;">Diving Experience</h3>
        
        <div class="form-group" style="margin-bottom: 20px;">
            <label for="{{ form.certification_level.id_for_label }}">Certification Level</label>
            {{ form.certification_level }}
        </div>
        
        <h3 style="color: #333; border-bottom: 2px solid #2196f3; padding-bottom: 10px; margin-top: 30px;">Emergency Contact</h3>
        
        <div class="form-group" style="margin-bottom: 20px;">
            <label for="{{ form.emergency_contact.id_for_label }}">Emergency Contact (Name and Phone)</label>
            {{ form.emergency_contact }}
        </div>
        
        <h3 style="color: #333; border-bottom: 2px solid #2196f3; padding-bottom: 10px; margin-top: 30px;">Medical Information</h3>
        
        <div style="background-color: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
            <p><strong>Important:</strong> Please list any medical conditions, allergies, medications you are currently taking, or any health concerns. This information is confidential and will only be used for safety purposes.</p>
        </div>
        
        <div class="form-group" style="margin-bottom: 30px;">
            <label for="{{ form.medical_conditions.id_for_label }}">Medical Conditions, Allergies, and Medications</label>
            {{ form.medical_conditions }}
        </div>
        
        <div style="background-color: #f8f9fa; border: 1px solid #dee2e6; padding: 20px; border-radius: 5px; margin-bottom: 20px;">
            <h4>Declaration</h4>
            <p>I declare that the information provided above is true and complete. I understand that withholding information or providing false information may result in injury or death and that I participate in diving activities at my own risk.</p>
            <label style="display: flex; align-items: center; gap: 10px; margin-top: 15px;">
                <input type="checkbox" required style="transform: scale(1.2);">
                <span>I agree to the above declaration and understand the risks involved in scuba diving *</span>
            </label>
        </div>
        
        <div style="text-align: center;">
            <button type="submit" class="btn" style="background: #2196f3; padding: 15px 30px; font-size: 16px;">Submit Medical Form</button>
        </div>
    </form>
</div>

<style>
.form-group {
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    color: #333;
}

.form-group input, .form-group select, .form-group textarea {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
}

.form-group input:focus, .form-group select:focus, .form-group textarea:focus {
    outline: none;
    border-color: #2196f3;
    box-shadow: 0 0 5px rgba(33, 150, 243, 0.3);
}

.alert {
    padding: 15px;
    border-radius: 4px;
    margin-bottom: 20px;
}

.alert-success {
    background-color: #d4edda;
    border-color: #c3e6cb;
    color: #155724;
}

.alert-error {
    background-color: #f8d7da;
    border-color: #f5c6cb;
    color: #721c24;
}
</style>
{% endblock %}
